<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on http://github.com/jonrohan -->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link href='http://fonts.googleapis.com/css?family=Orbitron:400,900' rel='stylesheet' type='text/css'>
    <link href='apprise.min.css' rel='stylesheet' type='text/css'>
    <title>Triangle Painter</title>
    <script type="text/javascript" src="jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="apprise-1.5.min.js"></script>
    <style>
        .header {
            background: #000000; /* Old browsers */
            background: -moz-linear-gradient(top,  #000000 0%, #606060 3%, #424242 6%, #434343 9%, #3d3d3d 17%, #3d3d3d 23%, #393939 31%, #303030 43%, #323232 46%, #2a2a2a 49%, #1e1e1e 66%, #151515 86%, #0d0d0d 91%, #000000 94%, #2a2f3b 97%, #41485c 100%); /* FF3.6+ */
            background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#000000), color-stop(3%,#606060), color-stop(6%,#424242), color-stop(9%,#434343), color-stop(17%,#3d3d3d), color-stop(23%,#3d3d3d), color-stop(31%,#393939), color-stop(43%,#303030), color-stop(46%,#323232), color-stop(49%,#2a2a2a), color-stop(66%,#1e1e1e), color-stop(86%,#151515), color-stop(91%,#0d0d0d), color-stop(94%,#000000), color-stop(97%,#2a2f3b), color-stop(100%,#41485c)); /* Chrome,Safari4+ */
            background: -webkit-linear-gradient(top,  #000000 0%,#606060 3%,#424242 6%,#434343 9%,#3d3d3d 17%,#3d3d3d 23%,#393939 31%,#303030 43%,#323232 46%,#2a2a2a 49%,#1e1e1e 66%,#151515 86%,#0d0d0d 91%,#000000 94%,#2a2f3b 97%,#41485c 100%); /* Chrome10+,Safari5.1+ */
            background: -o-linear-gradient(top,  #000000 0%,#606060 3%,#424242 6%,#434343 9%,#3d3d3d 17%,#3d3d3d 23%,#393939 31%,#303030 43%,#323232 46%,#2a2a2a 49%,#1e1e1e 66%,#151515 86%,#0d0d0d 91%,#000000 94%,#2a2f3b 97%,#41485c 100%); /* Opera 11.10+ */
            background: -ms-linear-gradient(top,  #000000 0%,#606060 3%,#424242 6%,#434343 9%,#3d3d3d 17%,#3d3d3d 23%,#393939 31%,#303030 43%,#323232 46%,#2a2a2a 49%,#1e1e1e 66%,#151515 86%,#0d0d0d 91%,#000000 94%,#2a2f3b 97%,#41485c 100%); /* IE10+ */
            background: linear-gradient(top,  #000000 0%,#606060 3%,#424242 6%,#434343 9%,#3d3d3d 17%,#3d3d3d 23%,#393939 31%,#303030 43%,#323232 46%,#2a2a2a 49%,#1e1e1e 66%,#151515 86%,#0d0d0d 91%,#000000 94%,#2a2f3b 97%,#41485c 100%); /* W3C */
            filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#000000', endColorstr='#41485c',GradientType=0 ); /* IE6-9 */
            position: absolute;
            top: 0px;
            left: 0px;
            width: 100%;
            height: 20px;
            color: white;
            padding-top: 5px;
            padding-bottom: 5px;
            font-family: 'Orbitron', sans-serif;
            font-weight: bold;
        }

        .header .title {
            margin-left: 5px;
        }

        .header .help {
            color: white;
            float: right;
            margin-right:5px;
        }

        .screen {
            position: absolute;
            top: 45px;
            left: 50%;
            margin-left: -250px;
            border: solid 1px white;
            overflow: hidden;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        .leftColors {
            position: absolute;
            top: 45px;
            left: 15px;
            width: 100px;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        .rightColors {
            position: absolute;
            top: 45px;
            right: 15px;
            width: 100px;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        .screen:hover {
            border: solid 1px #ccc;
        }

        .colorLeft, .colorRight {
            width: 20px;
            height: 20px;
            margin-top: 4px;
            margin-left: 2px;
            border-radius: 5px;
            border: solid 1px #ccc;
            display: inline-block;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
    </style>
</head>
<body oncontextmenu="return false;">
<div class="header"><span class="title">Triangle Painter</span> <a href="#" class="help">Help</a></div>
<div class="leftColors">
    <div class="colorLeft" style="background-color: #fce94f"></div>
    <div class="colorLeft" style="background-color: #edd400"></div>
    <div class="colorLeft" style="background-color: #c4a000"></div>
    <div class="colorLeft" style="background-color: #fcaf3e"></div>
    <div class="colorLeft" style="background-color: #f57900"></div>
    <div class="colorLeft" style="background-color: #ce5c00"></div>
    <div class="colorLeft" style="background-color: #e9b96e"></div>
    <div class="colorLeft" style="background-color: #c17d11"></div>
    <div class="colorLeft" style="background-color: #8f5902"></div>
    <div class="colorLeft" style="background-color: #8ae234"></div>
    <div class="colorLeft" style="background-color: #73d216"></div>
    <div class="colorLeft" style="background-color: #4e9a06"></div>
    <div class="colorLeft" style="background-color: #729fcf"></div>
    <div class="colorLeft" style="background-color: #3465a4"></div>
    <div class="colorLeft" style="background-color: #204a87"></div>
    <div class="colorLeft" style="background-color: #ad7fa8"></div>
    <div class="colorLeft" style="background-color: #75507b"></div>
    <div class="colorLeft" style="background-color: #5c3566"></div>
    <div class="colorLeft" style="background-color: #ef2929"></div>
    <div class="colorLeft" style="background-color: #cc0000"></div>
    <div class="colorLeft" style="background-color: #a40000"></div>
    <div class="colorLeft" style="background-color: #eeeeec"></div>
    <div class="colorLeft" style="background-color: #d3d7cf"></div>
    <div class="colorLeft" style="background-color: #babdb6"></div>
    <div class="colorLeft" style="background-color: #888a85"></div>
    <div class="colorLeft" style="background-color: #555753"></div>
    <div class="colorLeft" style="background-color: #2e3436"></div>
</div>
<div class="rightColors">
    <div class="colorRight" style="background-color: #fce94f"></div>
    <div class="colorRight" style="background-color: #edd400"></div>
    <div class="colorRight" style="background-color: #c4a000"></div>
    <div class="colorRight" style="background-color: #fcaf3e"></div>
    <div class="colorRight" style="background-color: #f57900"></div>
    <div class="colorRight" style="background-color: #ce5c00"></div>
    <div class="colorRight" style="background-color: #e9b96e"></div>
    <div class="colorRight" style="background-color: #c17d11"></div>
    <div class="colorRight" style="background-color: #8f5902"></div>
    <div class="colorRight" style="background-color: #8ae234"></div>
    <div class="colorRight" style="background-color: #73d216"></div>
    <div class="colorRight" style="background-color: #4e9a06"></div>
    <div class="colorRight" style="background-color: #729fcf"></div>
    <div class="colorRight" style="background-color: #3465a4"></div>
    <div class="colorRight" style="background-color: #204a87"></div>
    <div class="colorRight" style="background-color: #ad7fa8"></div>
    <div class="colorRight" style="background-color: #75507b"></div>
    <div class="colorRight" style="background-color: #5c3566"></div>
    <div class="colorRight" style="background-color: #ef2929"></div>
    <div class="colorRight" style="background-color: #cc0000"></div>
    <div class="colorRight" style="background-color: #a40000"></div>
    <div class="colorRight" style="background-color: #eeeeec"></div>
    <div class="colorRight" style="background-color: #d3d7cf"></div>
    <div class="colorRight" style="background-color: #babdb6"></div>
    <div class="colorRight" style="background-color: #888a85"></div>
    <div class="colorRight" style="background-color: #555753"></div>
    <div class="colorRight" style="background-color: #000000"></div>
</div>
<canvas class="screen" width="500px" height="500px"></canvas>
</body>
<script>
$('.help').click(function(){
    apprise("INSTRUCTION<br>- Left click will place a triangle down or change the triangle shape<br>- Right click will delete a triangle<br>- Shift+Left click will change the triangle to the previous shape")
})

var colors = [
    " #fce94f",
    " #edd400",
    " #c4a000",
    " #fcaf3e",
    " #f57900",
    " #ce5c00",
    " #e9b96e",
    " #c17d11",
    " #8f5902",
    " #8ae234",
    " #73d216",
    " #4e9a06",
    " #729fcf",
    " #3465a4",
    " #204a87",
    " #ad7fa8",
    " #75507b",
    " #5c3566",
    " #ef2929",
    " #cc0000",
    " #a40000",
    " #eeeeec",
    " #d3d7cf",
    " #babdb6",
    " #888a85",
    " #555753",
    " #2e3436"];

$('.leftColors').fadeTo(0, .2);
$('.rightColors').fadeTo(0, .2);
$('.leftColors').mouseenter(function () {
    $('.leftColors').fadeTo('fast', .9);
});
$('.rightColors').mouseenter(function () {
    $('.rightColors').fadeTo('fast', .9);
});
$('.leftColors').mouseleave(function () {
    $('.leftColors').fadeTo('fast', .2);
});
$('.rightColors').mouseleave(function () {
    $('.rightColors').fadeTo('fast', .2);
});
var slots = [];
var slotSize = 25;
var slotSizeW = slotSize;
var slotSizeH = slotSize;
var size = 500;
var slotWidth = Math.floor(size / slotSize);
var slotHeight = Math.floor(size / slotSize);
var selectedColorA = 'eeeeec';
var selectedColorB = '#2e3436';
$('.colorLeft').click(function (e) {
    var t = e.target;
    selectedColorA = $(t).css('background-color');
});
$('.colorRight').click(function (e) {
    var t = e.target;
    selectedColorB = $(t).css('background-color');
});
var numTypes = 22;

for (var y = 0; y < slotHeight; y++) {
    for (var x = 0; x < slotWidth; x++) {
        slots[y * slotWidth + x] = {
            type:Math.floor(Math.random() * numTypes),
            color_a:colors[Math.floor(Math.random() * colors.length)],
            color_b:colors[Math.floor(Math.random() * colors.length)],
        };
    }
}

var firstClick = true;

var ctx = $('canvas').get(0).getContext('2d');
draw = function () {
    for (var x = 0; x < slotWidth; x++) {
        for (var y = 0; y < slotHeight; y++) {
            var s = slots[y * slotWidth + x];
            if (s.type == 0) {
                ctx.fillStyle = s.color_a;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_b;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
            }
            else if (s.type == 1) {
                ctx.fillStyle = s.color_b;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_a;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();

            }
            if (s.type == 2) {
                ctx.fillStyle = s.color_b;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_a;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();

            }
            else if (s.type == 3) {
                ctx.fillStyle = s.color_a;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_b;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();

            }

            //boots
            else if (s.type == 4) {
                ctx.fillStyle = s.color_a;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_b;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();

                ctx.fillStyle = s.color_b;
                ctx.fillRect(x * slotSizeW, y * slotSizeH, slotSizeW / 2, slotSizeH);
            }
            else if (s.type == 5) {
                ctx.fillStyle = s.color_b;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_a;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_b;
                ctx.fillRect(x * slotSizeW, y * slotSizeH, slotSizeW, slotSizeH / 2);


            }
            if (s.type == 6) {
                ctx.fillStyle = s.color_b;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_a;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_b;
                ctx.fillRect(x * slotSizeW + slotSizeW / 2, y * slotSizeH, slotSizeW / 2, slotSizeH)


            }
            else if (s.type == 7) {
                ctx.fillStyle = s.color_a;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_b;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_b;
                ctx.fillRect(x * slotSizeW, y * slotSizeH + slotSizeH / 2, slotSizeW, slotSizeH / 2)


            }
            if (s.type == 8) {
                ctx.fillStyle = s.color_a;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_b;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_a;
                ctx.fillRect(x * slotSizeW + slotSizeW / 2, y * slotSizeH, slotSizeW / 2, slotSizeH)

            }
            else if (s.type == 9) {
                ctx.fillStyle = s.color_b;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_a;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_a;
                ctx.fillRect(x * slotSizeW, y * slotSizeH + slotSizeH / 2, slotSizeW, slotSizeH / 2)

            }
            if (s.type == 10) {
                ctx.fillStyle = s.color_b;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_a;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_a;
                ctx.fillRect(x * slotSizeW, y * slotSizeH, slotSizeW / 2, slotSizeH);
            }
            else if (s.type == 11) {
                ctx.fillStyle = s.color_a;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_b;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_a;
                ctx.fillRect(x * slotSizeW, y * slotSizeH, slotSizeW, slotSizeH / 2);
            }

            //reverse boots
            else if (s.type == 12) {
                ctx.fillStyle = s.color_a;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_b;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();

                ctx.fillStyle = s.color_b;
                ctx.fillRect(x * slotSizeW + slotSizeW / 2, y * slotSizeH, slotSizeW / 2, slotSizeH);
            }
            else if (s.type == 13) {
                ctx.fillStyle = s.color_b;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_a;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_b;
                ctx.fillRect(x * slotSizeW, y * slotSizeH, slotSizeW, slotSizeH / 2);


            }
            if (s.type == 14) {
                ctx.fillStyle = s.color_b;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_a;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_b;
                ctx.fillRect(x * slotSizeW, y * slotSizeH, slotSizeW / 2, slotSizeH)


            }
            else if (s.type == 15) {
                ctx.fillStyle = s.color_a;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_b;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_b;
                ctx.fillRect(x * slotSizeW, y * slotSizeH + slotSizeH / 2, slotSizeW, slotSizeH / 2)


            }
            if (s.type == 16) {
                ctx.fillStyle = s.color_a;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_b;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_a;
                ctx.fillRect(x * slotSizeW, y * slotSizeH, slotSizeW / 2, slotSizeH)

            }
            else if (s.type == 17) {
                ctx.fillStyle = s.color_b;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_a;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_a;
                ctx.fillRect(x * slotSizeW + slotSizeW / 2, y * slotSizeH + slotSizeH / 2, slotSizeW, slotSizeH / 2)

            }
            if (s.type == 18) {
                ctx.fillStyle = s.color_b;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_a;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_a;
                ctx.fillRect(x * slotSizeW + slotSizeW / 2, y * slotSizeH, slotSizeW / 2, slotSizeH);
            }
            else if (s.type == 19) {
                ctx.fillStyle = s.color_a;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW + slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_b;
                ctx.beginPath();
                ctx.moveTo(x * slotSizeW, y * slotSizeH + slotSizeH);
                ctx.lineTo(x * slotSizeW, y * slotSizeH);
                ctx.lineTo(x * slotSizeW + slotSizeW, y * slotSizeH + slotSizeH);
                ctx.fill();
                ctx.fillStyle = s.color_a;
                ctx.fillRect(x * slotSizeW, y * slotSizeH, slotSizeW, slotSizeH / 2);
            }

            //solids
            else if (s.type == 20) {
                ctx.fillStyle = s.color_a;
                ctx.fillRect(x * slotSizeW, y * slotSizeH, slotSizeW, slotSizeH);
            }
            else if (s.type == 21) {
                ctx.fillStyle = s.color_b;
                ctx.fillRect(x * slotSizeW, y * slotSizeH, slotSizeW, slotSizeH);
            }
        }
    }
};

draw();

$('canvas').mousedown(function (e) {
    if (firstClick) {
        for (var y = 0; y < slotHeight; y++) {
            for (var x = 0; x < slotWidth; x++) {
                slots[y * slotWidth + x] = {
                    type:numTypes - 1,
                    color_a:'white',
                    color_b:'white'
                };
            }
        }
        firstClick = false;
    }
    var t = e.target;
    var o = $(t).offset();
    x = Math.floor((e.pageX - o.left) / slotSize);
    y = Math.floor((e.pageY - o.top) / slotSize);
    var s = slots[y * slotWidth + x];
    s.color_a = selectedColorA;
    s.color_b = selectedColorB;
    if (e.shiftKey) {
        s.type = (s.type - 1) % numTypes;
        if (s.type < 0) {
            s.type = numTypes - 1;
        }
    }
    else {
        s.type = (s.type + 1) % numTypes;
    }
    if (e.which === 3) {
        s.type = numTypes - 1;
        s.color_a = 'white';
        s.color_b = 'white';
    }

    //draw twice because of antialiasing
    draw();
    draw();
});
</script>
</html>

